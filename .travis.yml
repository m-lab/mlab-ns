language: python
python:
 - "2.7"
env:
- PATH=$PATH:$HOME/google_appengine GAE_PYTHONPATH=$HOME/google_appengine PYTHONPATH=$PYTHONPATH:$GAE_PYTHONPATH APPENGINESDK_CORE_DISABLE_PROMPTS=1
before_install: 
- if [ ! -d $HOME/google_appengine ]; then wget https://storage.googleapis.com/appengine-sdks/featured/google_appengine_1.9.32.zip; fi
- unzip -q google_appengine_1.9.32.zip -d $HOME
install:
- pip install unittest2 
- pip install yapf==0.6.2
script:
- which dev_appserver.py
- echo $HOME
- echo $GAE_PYTHONPATH
- yapf --diff --exclude=./server/mlabns/third_party/* --recursive --style=google ./server/mlabns/*
- python server/unit_tests.py $GAE_PYTHONPATH server/mlabns/tests/

